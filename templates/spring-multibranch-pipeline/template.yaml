version: 1
name: Multibranch Pipeline for Spring applications from Github
type: pipeline-template
templateType: MULTIBRANCH
parameters:
  - name: emailRecipient
    type: string
    displayName: Email address to be used for sending build notifications
  - name: github_repo
    type: string
    displayName: GitHub HTTPS repo for Sping application
  - name: github_creds
    displayName: GitHub Credentials ID if needed
    type: credentials
    defaultValue: github-creds-example
multibranch:
  branchSource:
    github:
      repoOwner: fgibelin-orga
      repository: ${github_repo}
      credentialsId: ${github_creds}
  orphanedItemStrategy:
    daysToKeep: 3
